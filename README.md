# ü§ñ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Telegram AI –ë–æ—Ç

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –≤ Telegram —Å —É–º–Ω—ã–º —É—á–∞—Å—Ç–∏–µ–º –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö. –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞:

‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥–∏ –≤ Telegram –æ—Ç –ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç–æ–Ω–µ**  
‚úÖ **–ù–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤—ã–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –±–µ–∑ –Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ —É–º–µ—Å—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –æ—Ä–≥–∞–Ω–∏—á–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö –≤ –≥—Ä—É–ø–ø–∞—Ö**

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
üìÅ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ main_bot.py              # üöÄ –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
‚îú‚îÄ‚îÄ core/                    # ‚öôÔ∏è –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database.py         # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py       # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ai/                     # ü§ñ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ universal_llm.py    # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π LLM —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ yandex_llm.py       # Yandex GPT –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ offline_llm.py      # –û—Ñ—Ñ–ª–∞–π–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ llm_interface.py    # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å LLM
‚îÇ   ‚îî‚îÄ‚îÄ content_filter.py   # –§–∏–ª—å—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ utils/                   # üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ policies.py         # –ü–æ–ª–∏—Ç–∏–∫–∏
‚îî‚îÄ‚îÄ requirements.optimized.txt # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
source venv/bin/activate
pip install -r requirements.optimized.txt
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.optimized`:
```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
AI_PROVIDER=offline  # –∏–ª–∏ yandex, openai
GROUP_MODE_ENABLED=true
```

### **3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
```bash
python3 main_bot.py
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### **1. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –≤ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö:**
- AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

### **2. –£–º–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö:**
- **–ü—Ä—è–º—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è:** `@username_bot –ü—Ä–∏–≤–µ—Ç!`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É—á–∞—Å—Ç–∏–µ** –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏–π
- **–ê–Ω—Ç–∏-—Å–ø–∞–º –∑–∞—â–∏—Ç–∞**

### **3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- **Offline** - —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Yandex GPT** - –¥–ª—è –†–æ—Å—Å–∏–∏, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π
- **OpenAI** - –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π, –ø–ª–∞—Ç–Ω—ã–π

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–∏—è

### **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —É—á–∞—Å—Ç–∏—è:**
```env
GROUP_REPLY_KEYWORDS=—á—Ç–æ –¥—É–º–∞–µ—Ç–µ,–∫–∞–∫ —Å—á–∏—Ç–∞–µ—Ç–µ,–∫—Ç–æ –≤ —Ç–µ–º–µ,—Å–æ–≤–µ—Ç,–º–Ω–µ–Ω–∏–µ,–æ–±—Å—É–∂–¥–µ–Ω–∏–µ,–≤–æ–ø—Ä–æ—Å,–ø–æ–º–æ–≥–∏—Ç–µ,–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ,python,–∫–æ–¥,—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞,–∞–ª–≥–æ—Ä–∏—Ç–º,—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏,–æ–±—É—á–µ–Ω–∏–µ,–ø—Ä–∞–∫—Ç–∏–∫–∞,–ø—Ä–æ–µ–∫—Ç
```

### **–õ–∏–º–∏—Ç—ã –∏ –ø–æ–ª–∏—Ç–∏–∫–∏:**
```env
GROUP_MODE_ENABLED=true
GROUP_MIN_MESSAGE_LEN=15
MAX_DAILY_MESSAGES_PER_GROUP=10
MAX_DAILY_MESSAGES_PER_USER=20
```

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### **–£–¥–∞–ª–µ–Ω–æ:**
- ‚ùå –°–ª–æ–∂–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ (`conversation.py`)
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–æ—Ç–æ–≤
- ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ùå –ü—É—Å—Ç—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### **–£–ø—Ä–æ—â–µ–Ω–æ:**
- ‚úÖ –ü—Ä—è–º–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —É—á–∞—Å—Ç–∏—è

## üìä –õ–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–∏—è

### **–ö–æ–≥–¥–∞ –±–æ—Ç —É—á–∞—Å—Ç–≤—É–µ—Ç:**
1. **–ü—Ä—è–º–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ:** `@username_bot`
2. **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** "—á—Ç–æ –¥—É–º–∞–µ—Ç–µ", "python", "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"
3. **–í–æ–ø—Ä–æ—Å—ã:** –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞–∫–∞ "?"
4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã:** "–∫–æ–¥", "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", "–∞–ª–≥–æ—Ä–∏—Ç–º"

### **–¢–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤:**
- **–ü—Ä—è–º—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ AI –æ—Ç–≤–µ—Ç—ã
- **–£—á–∞—Å—Ç–∏–µ –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö:** –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç:** –ß—Ç–æ –æ–Ω AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
- **–ê–Ω—Ç–∏-—Å–ø–∞–º** - –ª–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–¢–∏—Ö–∏–µ —á–∞—Å—ã** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ë—ã—Å—Ç—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –º–∏–Ω–∏–º—É–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
- **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—á–∞—Å—Ç–∏—è
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã** - –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π:

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ** - –º–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
‚úÖ **–£—á–∞—Å—Ç–≤—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ** - –±–µ–∑ –Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥–∏** - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö** - —É–º–Ω–æ –∏ —É–º–µ—Å—Ç–Ω–æ  
‚úÖ **–õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è** - –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `python3 main_bot.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É! üí¨üë•
